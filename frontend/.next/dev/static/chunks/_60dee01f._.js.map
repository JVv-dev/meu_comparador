{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/badge.tsx"],"sourcesContent":["import type * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,4TAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col gap-y-1.5 text-center sm:text-left\", className)} {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end gap-2\", className)} {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0RAAoB;AAEnC,MAAM,gBAAgB,6RAAuB;AAE7C,MAAM,eAAe,4RAAsB;AAE3C,MAAM,cAAc,2RAAqB;AAEzC,MAAM,8BAAgB,0SAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC,6RAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,6RAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,0SAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,4TAAC;;0BACC,4TAAC;;;;;0BACD,4TAAC,6RAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,ofACA;gBAED,GAAG,KAAK;;oBAER;kCACD,4TAAC,2RAAqB;wBAAC,WAAU;;0CAC/B,4TAAC,wRAAC;gCAAC,WAAU;;;;;;0CACb,4TAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6RAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,4TAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;MADxF;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,4TAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,0DAA0D;QAAa,GAAG,KAAK;;;;;;MAD9F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,0SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC,2RAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,2RAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,0SAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC,iSAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,iSAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,4TAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/price-history-modal.tsx"],"sourcesContent":["// Conteúdo para price-comparison/components/price-history-modal.tsx\n\"use client\"\n\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\"\nimport { TrendingDown, TrendingUp, AlertCircle } from \"lucide-react\" // Adicionado AlertCircle\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\" // NOVO\n\n// Interface PriceHistoryEntry ajustada para date ser string\ninterface PriceHistoryEntry {\n  date: string; // Espera 'YYYY-MM-DD' da API\n  price: number;\n}\n\ninterface Product {\n  id: string\n  name: string\n  image: string\n  // priceHistory agora usa a interface PriceHistoryEntry\n  priceHistory: PriceHistoryEntry[]\n}\n\ninterface PriceHistoryModalProps {\n  isOpen: boolean\n  onClose: () => void\n  product: Product | null // Permite null para evitar erros iniciais\n}\n\n// Formata um número como moeda BRL\nconst formatCurrency = (value: number): string => {\n  if (value === 0) return \"Indisponível\"; // Ou talvez R$ 0,00? Depende da regra\n  return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n};\n\n\nexport function PriceHistoryModal({ isOpen, onClose, product }: PriceHistoryModalProps) {\n\n  // ---- NOVO: Tratamento se 'product' for null ou priceHistory vazio ----\n  if (!product || !product.priceHistory || product.priceHistory.length === 0) {\n    // Não renderiza nada ou um estado de erro/vazio se isOpen for true\n    // Para simplificar, não faremos nada se não houver produto\n    if (!isOpen) return null;\n\n    // Se estiver aberto mas sem dados, mostra um modal de erro/aviso\n    return (\n       <Dialog open={isOpen} onOpenChange={onClose}>\n            <DialogContent className=\"max-w-md\">\n                 <DialogHeader>\n                    <DialogTitle className=\"text-xl\">Erro</DialogTitle>\n                </DialogHeader>\n                 <Alert variant=\"destructive\">\n                     <AlertCircle className=\"h-4 w-4\" />\n                     <AlertTitle>Sem Dados de Histórico</AlertTitle>\n                     <AlertDescription>\n                         Não foi possível carregar o histórico de preços para este produto.\n                     </AlertDescription>\n                </Alert>\n            </DialogContent>\n        </Dialog>\n    );\n  }\n  // ---- FIM DO NOVO TRATAMENTO ----\n\n\n  // Lógica de cálculo de preços (com segurança para arrays vazios)\n  const currentPriceEntry = product.priceHistory[product.priceHistory.length - 1];\n  const oldestPriceEntry = product.priceHistory[0];\n  const currentPrice = currentPriceEntry?.price ?? 0;\n  const oldestPrice = oldestPriceEntry?.price ?? 0;\n\n  // Evita divisão por zero se o preço mais antigo for 0\n  const priceChange = currentPrice - oldestPrice;\n  const priceChangePercent = oldestPrice !== 0 ? ((priceChange / oldestPrice) * 100).toFixed(1) : \"0.0\";\n  const isDecreasing = priceChange < 0;\n\n  // Formata os dados para o gráfico, incluindo 'displayDate' para o eixo X\n  const formattedData = product.priceHistory.map((item) => {\n     // Tenta criar um objeto Date. Adiciona hora para evitar problemas de fuso\n     const dateObjTry = new Date(item.date + 'T00:00:00Z'); // Usa Z para UTC\n     let displayDateFormatted = item.date; // Fallback para a string original\n\n     // Verifica se a data é válida antes de formatar\n     if (!isNaN(dateObjTry.getTime())) {\n         displayDateFormatted = dateObjTry.toLocaleDateString(\"pt-BR\", {\n             day: \"2-digit\",\n             month: \"short\", // Mês abreviado (ex: 'out')\n             // year: \"2-digit\", // Opcional: adicionar ano\n         });\n     } else {\n         console.warn(`Data inválida encontrada no histórico: ${item.date}`);\n     }\n\n     return {\n         ...item,\n         // Usa a data formatada ou o fallback\n         displayDate: displayDateFormatted,\n         // Garante que o preço seja um número para o gráfico\n         price: typeof item.price === 'number' ? item.price : 0\n     };\n  }).filter(item => typeof item.price === 'number'); // Filtra entradas sem preço válido\n\n\n  // Custom Tooltip para formatar moeda e data completa\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload; // Acesso aos dados completos do ponto\n       // Tenta recriar a data original para mostrar completa\n       let fullDateStr = data.date; // Usa a data original 'YYYY-MM-DD'\n       try {\n            const dateObj = new Date(data.date + 'T00:00:00Z');\n            if(!isNaN(dateObj.getTime())) {\n                fullDateStr = dateObj.toLocaleDateString(\"pt-BR\", {dateStyle: 'long'});\n            }\n       } catch (e) {/* Mantém a string original se falhar */}\n\n      return (\n        <div className=\"bg-popover p-2 border border-border rounded shadow-lg text-sm\">\n          <p className=\"font-medium\">{fullDateStr}</p>\n          <p className=\"text-primary\">{`Preço: ${formatCurrency(data.price)}`}</p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto p-6\"> {/* Adicionado padding */}\n        <DialogHeader className=\"mb-4\"> {/* Adicionado margem inferior */}\n          <DialogTitle className=\"text-xl sm:text-2xl text-balance\">{product.name}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Price Summary */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <div className=\"bg-muted rounded-lg p-4 text-center sm:text-left\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Preço Atual</p>\n              <p className=\"text-2xl font-bold text-primary\">{formatCurrency(currentPrice)}</p>\n            </div>\n\n            <div className=\"bg-muted rounded-lg p-4 text-center sm:text-left\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Menor Preço Hist.</p>\n              <p className=\"text-2xl font-bold\">{formatCurrency(oldestPrice)}</p> {/* Assumindo que o primeiro é o menor */}\n            </div>\n\n            <div className=\"bg-muted rounded-lg p-4 text-center sm:text-left\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Variação Total</p>\n              <div className=\"flex items-center justify-center sm:justify-start gap-1 sm:gap-2\">\n                 {/* Mostra ícone apenas se houve mudança */}\n                {priceChange !== 0 && (\n                     isDecreasing ? (\n                        <TrendingDown className=\"w-5 h-5 text-green-600 flex-shrink-0\" />\n                    ) : (\n                        <TrendingUp className=\"w-5 h-5 text-red-600 flex-shrink-0\" />\n                    )\n                )}\n                <p className={`text-xl sm:text-2xl font-bold ${\n                  priceChange === 0 ? '' : (isDecreasing ? \"text-green-600\" : \"text-red-600\")\n                }`}>\n                  {/* Adiciona sinal + se for positivo e diferente de zero */}\n                  {priceChange > 0 ? \"+\" : \"\"}\n                  {priceChangePercent}%\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Chart */}\n          {formattedData.length > 1 ? ( // Só mostra o gráfico se tiver mais de 1 ponto\n            <div className=\"bg-card rounded-lg p-4 border\">\n                <h3 className=\"text-lg font-semibold mb-4\">Histórico de Preços</h3>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={formattedData} margin={{ top: 5, right: 20, left: 10, bottom: 5 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-border/50\" />\n                    <XAxis\n                        dataKey=\"displayDate\" // Usa a data formatada DD/MMM\n                        className=\"text-xs\"\n                        tick={{ fill: \"hsl(var(--muted-foreground))\" }}\n                        angle={-45} // Inclina os labels se ficarem muito juntos\n                        textAnchor=\"end\" // Alinha o texto inclinado\n                        height={50} // Aumenta espaço para labels inclinados\n                        interval=\"preserveStartEnd\" // Tenta mostrar o primeiro e último\n                        // interval={Math.floor(formattedData.length / 10)} // Mostra menos labels se houver muitos pontos\n                        />\n                    <YAxis\n                        className=\"text-xs\"\n                        tick={{ fill: \"hsl(var(--muted-foreground))\" }}\n                        tickFormatter={(value) => `R$ ${value}`}\n                        domain={['auto', 'auto']} // Ajusta o domínio automaticamente\n                        />\n                    {/* Usa o Tooltip customizado */}\n                    <Tooltip content={<CustomTooltip />} />\n                    <Line\n                        type=\"monotone\"\n                        dataKey=\"price\"\n                        stroke=\"hsl(var(--primary))\"\n                        strokeWidth={2} // Linha um pouco mais fina\n                        dot={{ fill: \"hsl(var(--primary))\", r: 3 }}\n                        activeDot={{ r: 5, strokeWidth: 1, stroke: 'hsl(var(--background))' }}\n                        connectNulls // Conecta pontos mesmo se houver dados faltando entre eles\n                    />\n                </LineChart>\n                </ResponsiveContainer>\n            </div>\n           ) : (\n               // Mensagem se não houver dados suficientes para o gráfico\n               <div className=\"bg-card rounded-lg p-4 border text-center\">\n                   <p className=\"text-muted-foreground\">Não há dados de histórico suficientes para gerar o gráfico.</p>\n               </div>\n           )}\n\n          {/* Product Image (opcional no modal) */}\n          {/*\n          <div className=\"flex justify-center mt-4\">\n            <div className=\"w-32 h-32 rounded-lg overflow-hidden bg-muted flex items-center justify-center\">\n              <img\n                src={product.image || \"/placeholder.svg\"}\n                alt={product.name}\n                className=\"w-full h-full object-contain\"\n                onError={(e) => { e.currentTarget.src = '/placeholder.svg'; }}\n              />\n            </div>\n          </div>\n           */}\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn('bg-accent animate-pulse rounded-md', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS","debugId":null}},
    {"offset": {"line": 986, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/product-comparison.tsx"],"sourcesContent":["// Conteúdo para price-comparison/components/product-comparison.tsx\n\"use client\"\n\nimport { useState, useEffect } from \"react\" // Adicionado useEffect\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { PriceHistoryModal } from \"@/components/price-history-modal\"\nimport { TrendingDown, ExternalLink, Star, ShoppingCart } from \"lucide-react\"\nimport { Skeleton } from \"@/components/ui/skeleton\" // NOVO: Para loading\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\" // NOVO: Para erros\nimport { Terminal } from \"lucide-react\" // NOVO: Ícone para o Alert\n\n// Interfaces (mantidas como estavam)\ninterface Store {\n  name: string\n  price: number\n  originalPrice?: number | null // Permite null vindo da API\n  shipping: string\n  rating: number\n  reviews: number\n  affiliateLink: string\n  inStock: boolean\n}\n\ninterface PriceHistoryEntry {\n  date: string; // Espera 'YYYY-MM-DD' da API\n  price: number;\n}\n\ninterface Product {\n  id: string\n  name: string\n  image: string\n  category: string\n  stores: Store[]\n  priceHistory: PriceHistoryEntry[] // Usa a interface definida\n}\n\n// REMOVIDO: const mockProducts = [...]\n\nexport function ProductComparison() {\n  // Estados para dados, loading e erro\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // NOVO: useEffect para buscar dados da API quando o componente monta\n  useEffect(() => {\n    async function fetchProducts() {\n      setIsLoading(true); // Começa carregando\n      setError(null); // Limpa erros anteriores\n      try {\n        // ****** AJUSTE A URL SE NECESSÁRIO ******\n        // Se o backend estiver rodando em outra máquina na rede, use o IP dela\n        // Ex: const apiUrl = 'http://192.168.1.10:5001/api/products';\n        const apiUrl = 'http://localhost:5001/api/products'; // Padrão: backend na mesma máquina\n\n        console.log(`Buscando produtos de: ${apiUrl}`); // Log para debug\n\n        const response = await fetch(apiUrl);\n        console.log(`Status da resposta: ${response.status}`); // Log para debug\n\n        if (!response.ok) {\n          let errorBody = 'Erro desconhecido';\n          try {\n            // Tenta ler a mensagem de erro da API, se houver\n            const errorData = await response.json();\n            errorBody = errorData.error || response.statusText;\n            console.error(\"Erro da API:\", errorData);\n          } catch (e) {\n             console.error(\"Não foi possível ler o corpo do erro:\", e);\n             errorBody = response.statusText; // Usa o status text se não conseguir ler o corpo\n          }\n          throw new Error(`Falha ao buscar produtos (${response.status}): ${errorBody}`);\n        }\n\n        const data = await response.json();\n        console.log(\"Dados recebidos da API:\", data); // Log para debug\n\n        // Validação básica dos dados recebidos (opcional, mas recomendado)\n        if (!Array.isArray(data)) {\n            throw new Error(\"Formato de dados inesperado recebido da API.\");\n        }\n        // Aqui você poderia adicionar mais validações se necessário\n\n        setProducts(data);\n      } catch (err: any) {\n        console.error(\"Erro detalhado no fetch:\", err); // Log completo para debug\n        setError(`Não foi possível carregar os produtos. Verifique se o backend Python (API) está rodando em ${'http://localhost:5001'} e acessível. Detalhe: ${err.message}`);\n      } finally {\n        setIsLoading(false); // Termina o carregamento (com sucesso ou erro)\n      }\n    }\n\n    fetchProducts();\n  }, []); // O array vazio [] faz o useEffect rodar só uma vez\n\n  // Estados para o modal (mantidos)\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n\n  // Funções de clique (mantidas, mas agora usam dados reais)\n  const handleImageClick = (product: Product) => {\n    setSelectedProduct(product) // O histórico já está no 'product'\n    setIsModalOpen(true)\n  }\n\n  const handleStoreClick = (affiliateLink: string) => {\n    window.open(affiliateLink, \"_blank\", \"noopener,noreferrer\")\n  }\n\n  // ---- RENDERIZAÇÃO ----\n\n  // 1. Estado de Carregamento\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n        <header className=\"mb-12 text-center\">\n            {/* Skeleton para o título */}\n            <Skeleton className=\"h-10 w-3/4 mx-auto mb-3\" />\n            <Skeleton className=\"h-6 w-1/2 mx-auto\" />\n        </header>\n        <div className=\"space-y-8\">\n            {/* Exibe alguns Skeletons de Card */}\n            {[1, 2].map((n) => (\n                <Card key={n} className=\"overflow-hidden\">\n                    <div className=\"grid md:grid-cols-[300px_1fr] gap-6 p-6\">\n                        <div className=\"space-y-3\">\n                            <Skeleton className=\"aspect-square rounded-lg w-full\" />\n                            <Skeleton className=\"h-6 w-1/3\" />\n                        </div>\n                        <div className=\"space-y-4\">\n                            <Skeleton className=\"h-8 w-3/4\" />\n                            <Skeleton className=\"h-5 w-1/4\" />\n                            <div className=\"space-y-3 pt-4\">\n                                <Skeleton className=\"h-20 w-full rounded-lg\" />\n                                <Skeleton className=\"h-20 w-full rounded-lg\" />\n                            </div>\n                        </div>\n                    </div>\n                </Card>\n            ))}\n        </div>\n      </div>\n    );\n  }\n\n  // 2. Estado de Erro\n  if (error) {\n     return (\n        <div className=\"container mx-auto px-4 py-8 max-w-3xl\">\n             <Alert variant=\"destructive\">\n                <Terminal className=\"h-4 w-4\" />\n                <AlertTitle>Erro ao Carregar Dados</AlertTitle>\n                <AlertDescription>\n                    {error}\n                    <br/><br/>\n                    Verifique o console do navegador (F12) e o terminal onde o backend Python está rodando para mais detalhes.\n                </AlertDescription>\n            </Alert>\n        </div>\n     );\n  }\n\n  // 3. Estado Sem Produtos (Após Carregamento)\n   if (products.length === 0 && !isLoading) {\n      return (\n        <div className=\"container mx-auto px-4 py-8 max-w-7xl text-center\">\n            <header className=\"mb-12\">\n                <h1 className=\"text-4xl font-bold mb-3 text-balance\">Compare Preços e Economize</h1>\n                <p className=\"text-muted-foreground text-lg text-balance\">\n                Encontre as melhores ofertas em diversas lojas online\n                </p>\n            </header>\n            <p className=\"text-muted-foreground text-lg\">\n                Nenhum produto encontrado no arquivo <code className=\"bg-muted px-1 rounded\">precos.csv</code>.\n                Execute o script <code className=\"bg-muted px-1 rounded\">scraper.py</code> para buscar os preços primeiro.\n            </p>\n        </div>\n      );\n  }\n\n\n  // 4. Estado Normal (com produtos)\n  return (\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n      <header className=\"mb-12 text-center\">\n        <h1 className=\"text-4xl font-bold mb-3 text-balance\">Compare Preços e Economize</h1>\n        <p className=\"text-muted-foreground text-lg text-balance\">\n          Encontre as melhores ofertas em diversas lojas online\n        </p>\n      </header>\n\n      <div className=\"space-y-8\">\n        {/* Mapeia sobre 'products' que vieram da API */}\n        {products.map((product) => {\n          // Calcula menor preço e maior desconto (com validações)\n          const validPrices = product.stores.filter(s => s.price > 0 && s.inStock).map(s => s.price);\n          const lowestPrice = validPrices.length > 0 ? Math.min(...validPrices) : 0;\n\n          const highestDiscount = Math.max(\n            0,\n            ...product.stores\n              .filter((s) => s.originalPrice && s.originalPrice > s.price && s.inStock)\n              .map((s) => ((s.originalPrice! - s.price) / s.originalPrice!) * 100),\n          );\n\n          // Fallback de imagem caso a URL da API falhe\n          const handleImageError = (event: React.SyntheticEvent<HTMLImageElement, Event>) => {\n              event.currentTarget.src = '/placeholder.svg'; // Ou outra imagem placeholder\n              event.currentTarget.onerror = null; // Evita loop infinito se o placeholder também falhar\n          };\n\n          return (\n            <Card key={product.id} className=\"overflow-hidden\">\n              <div className=\"grid md:grid-cols-[300px_1fr] gap-6 p-6\">\n                {/* Product Image Section */}\n                <div className=\"space-y-3\">\n                  <button onClick={() => handleImageClick(product)} className=\"relative group cursor-pointer w-full\">\n                    <div className=\"aspect-square rounded-lg overflow-hidden bg-muted flex items-center justify-center\">\n                      <img\n                        // Usa product.image OU placeholder\n                        src={product.image || \"/placeholder.svg\"}\n                        alt={product.name}\n                        className=\"w-full h-full object-contain transition-transform group-hover:scale-105\" // object-contain pode ser melhor que cover\n                        onError={handleImageError} // Adiciona fallback de erro\n                      />\n                    </div>\n                    {/* Overlay do histórico */}\n                    <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center pointer-events-none\">\n                      <div className=\"text-white text-center\">\n                        <TrendingDown className=\"w-8 h-8 mx-auto mb-2\" />\n                        <p className=\"text-sm font-medium\">Ver Histórico de Preços</p>\n                      </div>\n                    </div>\n                  </button>\n                  <Badge variant=\"secondary\" className=\"w-full justify-center truncate\">\n                    {/* Usa product.category */}\n                    {product.category}\n                  </Badge>\n                </div>\n\n                {/* Product Details Section */}\n                <div className=\"space-y-4\">\n                  <div>\n                    {/* Usa product.name */}\n                    <h2 className=\"text-2xl font-bold mb-2 text-balance\">{product.name}</h2>\n                    {highestDiscount > 0 && (\n                      <Badge variant=\"default\" className=\"bg-accent text-accent-foreground\">\n                        {/* Mostra desconto */}\n                        Até {highestDiscount.toFixed(0)}% OFF\n                      </Badge>\n                    )}\n                  </div>\n\n                  {/* Stores Comparison */}\n                  <div className=\"space-y-3\">\n                    {/* Mapeia sobre product.stores */}\n                    {product.stores.map((store, index) => {\n                      const isLowestPrice = store.price === lowestPrice && store.price > 0 && store.inStock;\n                      const discount = store.originalPrice && store.originalPrice > store.price && store.inStock\n                        ? ((store.originalPrice - store.price) / store.originalPrice) * 100\n                        : 0;\n\n                      return (\n                        <div\n                          key={index}\n                          className={`border rounded-lg p-4 transition-all hover:shadow-md ${\n                            isLowestPrice ? \"border-primary bg-primary/5\" : \"border-border\"\n                          }`}\n                        >\n                          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n                            {/* Detalhes da Loja */}\n                            <div className=\"flex-1 space-y-2 min-w-0\"> {/* Adicionado min-w-0 */}\n                              <div className=\"flex items-center gap-2 flex-wrap\">\n                                <h3 className=\"font-semibold text-lg truncate\">{store.name}</h3> {/* Adicionado truncate */}\n                                {isLowestPrice && (\n                                  <Badge variant=\"default\" className=\"text-xs flex-shrink-0\">\n                                    Melhor Preço\n                                  </Badge>\n                                )}\n                                {!store.inStock && (\n                                  <Badge variant=\"destructive\" className=\"text-xs flex-shrink-0\">\n                                    Indisponível\n                                  </Badge>\n                                )}\n                              </div>\n\n                              {/* Rating e Reviews (Ocultos se rating for 0) */}\n                              {store.rating > 0 && (\n                                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                                    <div className=\"flex items-center gap-1\">\n                                    <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                                    <span className=\"font-medium\">{store.rating.toFixed(1)}</span>\n                                    {store.reviews > 0 && <span>({store.reviews.toLocaleString(\"pt-BR\")} avaliações)</span>}\n                                    </div>\n                                </div>\n                              )}\n\n                              <p className=\"text-sm text-muted-foreground\">{store.shipping}</p>\n                            </div>\n\n                            {/* Preço e Botão */}\n                            <div className=\"flex flex-col items-end gap-1 flex-shrink-0\">\n                              {store.originalPrice && store.originalPrice > store.price && store.inStock && (\n                                <div className=\"text-sm text-muted-foreground line-through whitespace-nowrap\">\n                                  R$ {store.originalPrice.toFixed(2).replace(\".\", \",\")}\n                                </div>\n                              )}\n                              <div className={`text-2xl sm:text-3xl font-bold whitespace-nowrap ${store.inStock && store.price > 0 ? 'text-primary' : 'text-muted-foreground text-xl'}`}>\n                                {store.inStock && store.price > 0 ? `R$ ${store.price.toFixed(2).replace(\".\", \",\")}` : \"Indisponível\"}\n                              </div>\n                              {discount > 0 && store.inStock && (\n                                <Badge variant=\"secondary\" className=\"text-xs\">\n                                  {discount.toFixed(0)}% OFF\n                                </Badge>\n                              )}\n                              <Button\n                                onClick={() => handleStoreClick(store.affiliateLink)}\n                                disabled={!store.inStock}\n                                className=\"w-full sm:w-auto mt-2\" // Adiciona margem\n                                size=\"sm\" // Tamanho consistente\n                              >\n                                <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                                Ir para Loja\n                                <ExternalLink className=\"w-4 h-4 ml-2\" />\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* Modal (usa selectedProduct com dados da API) */}\n      {selectedProduct && (\n        <PriceHistoryModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} product={selectedProduct} />\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}