{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,gPAAO,EAAC,IAAA,0MAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,8PAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wTAAI,GAAG;IAE9B,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/badge.tsx"],"sourcesContent":["import type * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,8PAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,yXAAC;QAAI,WAAW,IAAA,8HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col gap-y-1.5 text-center sm:text-left\", className)} {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end gap-2\", className)} {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,mSAAoB;AAEnC,MAAM,gBAAgB,sSAAuB;AAE7C,MAAM,eAAe,qSAAsB;AAE3C,MAAM,cAAc,oSAAqB;AAEzC,MAAM,8BAAgB,8VAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yXAAC,sSAAuB;QACtB,KAAK;QACL,WAAW,IAAA,8HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,sSAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,8VAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,yXAAC;;0BACC,yXAAC;;;;;0BACD,yXAAC,sSAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,8HAAE,EACX,ofACA;gBAED,GAAG,KAAK;;oBAER;kCACD,yXAAC,oSAAqB;wBAAC,WAAU;;0CAC/B,yXAAC,iSAAC;gCAAC,WAAU;;;;;;0CACb,yXAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,sSAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,yXAAC;QAAI,WAAW,IAAA,8HAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;AAE9F,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,yXAAC;QAAI,WAAW,IAAA,8HAAE,EAAC,0DAA0D;QAAa,GAAG,KAAK;;;;;;AAEpG,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,8VAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yXAAC,oSAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,oSAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,8VAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yXAAC,0SAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,8HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAE7G,kBAAkB,WAAW,GAAG,0SAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,8PAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,yXAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,8HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/price-history-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo } from \"react\" // --- NOVO: Para processar os dados\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Legend // --- NOVO: Para a legenda\n} from \"recharts\"\nimport { TrendingDown, TrendingUp, AlertCircle } from \"lucide-react\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\n\n// --- INTERFACE ATUALIZADA ---\n// Precisamos que a API envie a 'loja'\ninterface PriceHistoryEntry {\n  date: string; // 'YYYY-MM-DD'\n  price: number;\n  loja: string; // \"Kabum\", \"Pichau\", \"Terabyte\"\n}\n\n// --- INTERFACE ATUALIZADA ---\ninterface Product {\n  id: string\n  name: string\n  image: string\n  priceHistory: PriceHistoryEntry[]\n}\n\ninterface PriceHistoryModalProps {\n  isOpen: boolean\n  onClose: () => void\n  product: Product | null\n}\n\n// Cores fixas para cada loja\nconst storeColors = {\n  Kabum: \"#FF6400\", // Laranja\n  Pichau: \"#35A2EB\", // Azul\n  Terabyte: \"#4BC0C0\", // Verde\n};\n\n// Formata um número como moeda BRL\nconst formatCurrency = (value: number): string => {\n  if (!value || value === 0) return \"N/D\"; // 'Não disponível'\n  return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n};\n\n\nexport function PriceHistoryModal({ isOpen, onClose, product }: PriceHistoryModalProps) {\n\n  // ---- NOVO: Lógica de transformação de dados ----\n  // Transforma os dados \"longos\" (várias entradas por data)\n  // em dados \"largos\" (uma entrada por data com colunas de loja)\n  const chartData = useMemo(() => {\n    if (!product || !product.priceHistory || product.priceHistory.length === 0) {\n      return { data: [], stores: [] };\n    }\n\n    const dataMap = new Map<string, any>();\n    const stores = new Set<string>();\n\n    for (const entry of product.priceHistory) {\n      // Ignora preços zerados/indisponíveis no gráfico\n      if (!entry.loja || !entry.price || entry.price === 0) continue; \n      \n      stores.add(entry.loja); // Adiciona a loja ao Set (ex: 'Kabum')\n\n      // Formata a data para o eixo X\n      let displayDate = entry.date;\n      try {\n        const dateObj = new Date(entry.date + 'T00:00:00Z');\n        if (!isNaN(dateObj.getTime())) {\n          displayDate = dateObj.toLocaleDateString(\"pt-BR\", { day: \"2-digit\", month: \"short\" });\n        }\n      } catch (e) { console.warn(`Data inválida: ${entry.date}`) }\n\n      // Cria ou atualiza a entrada no Map\n      const mapEntry = dataMap.get(entry.date) || { date: entry.date, displayDate };\n      \n      // Adiciona o preço na coluna da loja (ex: mapEntry.Kabum = 1550)\n      mapEntry[entry.loja] = entry.price;\n      \n      dataMap.set(entry.date, mapEntry);\n    }\n    \n    // Converte o Map para um Array e ordena por data\n    const sortedData = Array.from(dataMap.values()).sort((a, b) => \n      new Date(a.date).getTime() - new Date(b.date).getTime()\n    );\n\n    return { data: sortedData, stores: Array.from(stores) };\n\n  }, [product]);\n  // ---- FIM DA LÓGICA DE TRANSFORMAÇÃO ----\n\n\n  // Tratamento se 'product' for null ou priceHistory vazio\n  if (!product || !product.priceHistory || product.priceHistory.length === 0) {\n    if (!isOpen) return null;\n    return (\n        <Dialog open={isOpen} onOpenChange={onClose}>\n            <DialogContent className=\"max-w-md\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-xl\">Erro</DialogTitle>\n                </DialogHeader>\n                <Alert variant=\"destructive\">\n                    <AlertCircle className=\"h-4 w-4\" />\n                    <AlertTitle>Sem Dados de Histórico</AlertTitle>\n                    <AlertDescription>\n                        Não foi possível carregar o histórico de preços para este produto.\n                    </AlertDescription>\n                </Alert>\n            </DialogContent>\n        </Dialog>\n    );\n  }\n\n  // Lógica de cálculo (simplificada, pois agora temos várias lojas)\n  // Vamos pegar o menor preço atual\n  const latestDate = product.priceHistory[product.priceHistory.length - 1]?.date;\n  const currentPrices = product.priceHistory\n    .filter(p => p.date === latestDate && p.price > 0)\n    .map(p => p.price);\n  \n  const currentPrice = currentPrices.length > 0 ? Math.min(...currentPrices) : 0;\n  \n  const allPrices = product.priceHistory\n    .filter(p => p.price > 0)\n    .map(p => p.price);\n\n  const lowestPrice = allPrices.length > 0 ? Math.min(...allPrices) : 0;\n\n\n  // --- TOOLTIP ATUALIZADO para múltiplas lojas ---\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-popover p-2 border border-border rounded shadow-lg text-sm\">\n          <p className=\"font-medium\">{label}</p> {/* 'label' é o displayDate */}\n          {/* Mapeia o payload (que agora tem uma entrada por *linha*) */}\n          {payload.map((entry: any) => (\n            <p key={entry.name} style={{ color: entry.color }}>\n              {`${entry.name}: ${formatCurrency(entry.value)}`}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto p-6\">\n        <DialogHeader className=\"mb-4\">\n          <DialogTitle className=\"text-xl sm:text-2xl text-balance\">{product.name}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Price Summary */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\"> {/* Ajustado para 2 colunas */}\n            <div className=\"bg-muted rounded-lg p-4 text-center sm:text-left\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Menor Preço Atual</p>\n              <p className=\"text-2xl font-bold text-primary\">{formatCurrency(currentPrice)}</p>\n            </div>\n\n            <div className=\"bg-muted rounded-lg p-4 text-center sm:text-left\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Menor Preço Hist.</p>\n              <p className=\"text-2xl font-bold\">{formatCurrency(lowestPrice)}</p>\n            </div>\n          </div>\n\n          {/* Chart */}\n          {chartData.data.length > 1 ? (\n            <div className=\"bg-card rounded-lg p-4 border\">\n              <h3 className=\"text-lg font-semibold mb-4\">Histórico de Preços por Loja</h3>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                {/* --- GRÁFICO ATUALIZADO --- */}\n                <LineChart data={chartData.data} margin={{ top: 5, right: 20, left: 10, bottom: 50 }}> {/* Mais margem inferior */}\n                  <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-border/50\" />\n                  <XAxis\n                    dataKey=\"displayDate\"\n                    className=\"text-xs\"\n                    tick={{ fill: \"hsl(var(--muted-foreground))\" }}\n                    angle={-45}\n                    textAnchor=\"end\"\n                    height={60} // Mais espaço para labels\n                    interval=\"preserveStartEnd\"\n                  />\n                  <YAxis\n                    className=\"text-xs\"\n                    tick={{ fill: \"hsl(var(--muted-foreground))\" }}\n                    tickFormatter={(value) => `R$ ${value}`}\n                    domain={['auto', 'auto']}\n                  />\n                  <Tooltip content={<CustomTooltip />} />\n                  \n                  {/* --- NOVO: Legenda --- */}\n                  <Legend verticalAlign=\"top\" wrapperStyle={{ paddingBottom: '15px' }} />\n                  \n                  {/* --- NOVO: Linhas Dinâmicas --- */}\n                  {/* Renderiza uma linha para cada loja encontrada */}\n                  {chartData.stores.includes(\"Kabum\") && (\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"Kabum\"\n                      stroke={storeColors.Kabum}\n                      strokeWidth={2}\n                      dot={{ r: 3 }}\n                      activeDot={{ r: 5 }}\n                      connectNulls // Conecta se houver dias faltando\n                    />\n                  )}\n                  {chartData.stores.includes(\"Pichau\") && (\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"Pichau\"\n                      stroke={storeColors.Pichau}\n                      strokeWidth={2}\n                      dot={{ r: 3 }}\n                      activeDot={{ r: 5 }}\n                      connectNulls\n                    />\n                  )}\n                  {chartData.stores.includes(\"Terabyte\") && (\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"Terabyte\"\n                      stroke={storeColors.Terabyte}\n                      strokeWidth={2}\n                      dot={{ r: 3 }}\n                      activeDot={{ r: 5 }}\n                      connectNulls\n                    />\n                  )}\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          ) : (\n            <div className=\"bg-card rounded-lg p-4 border text-center\">\n              <p className=\"text-muted-foreground\">Não há dados de histórico suficientes para gerar o gráfico.</p>\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 892, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn('bg-accent animate-pulse rounded-md', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,yXAAC;QACC,aAAU;QACV,WAAW,IAAA,8HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/Documentos/meu_comparador/frontend/components/product-comparison.tsx"],"sourcesContent":["// Conteúdo para price-comparison/components/product-comparison.tsx\n\"use client\"\n\nimport { useState, useEffect } from \"react\" // Adicionado useEffect\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { PriceHistoryModal } from \"@/components/price-history-modal\"\nimport { TrendingDown, ExternalLink, Star, ShoppingCart } from \"lucide-react\"\nimport { Skeleton } from \"@/components/ui/skeleton\" // NOVO: Para loading\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\" // NOVO: Para erros\nimport { Terminal } from \"lucide-react\" // NOVO: Ícone para o Alert\n\n// Interfaces (mantidas como estavam)\ninterface Store {\n  name: string\n  price: number\n  originalPrice?: number | null // Permite null vindo da API\n  shipping: string\n  rating: number\n  reviews: number\n  affiliateLink: string\n  inStock: boolean\n}\n\ninterface PriceHistoryEntry {\n  date: string; // Espera 'YYYY-MM-DD' da API\n  price: number;\n  loja: string\n}\n\ninterface Product {\n  id: string\n  name: string\n  image: string\n  category: string\n  stores: Store[]\n  priceHistory: PriceHistoryEntry[] // Usa a interface definida\n}\n\n// REMOVIDO: const mockProducts = [...]\n\nexport function ProductComparison() {\n  // Estados para dados, loading e erro\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // NOVO: useEffect para buscar dados da API quando o componente monta\n  useEffect(() => {\n    async function fetchProducts() {\n      setIsLoading(true); // Começa carregando\n      setError(null); // Limpa erros anteriores\n      try {\n        // ****** AJUSTE A URL SE NECESSÁRIO ******\n        // Se o backend estiver rodando em outra máquina na rede, use o IP dela\n        // Ex: const apiUrl = 'http://192.168.1.10:5001/api/products';\n        const apiUrl = 'http://localhost:5001/api/products'; // Padrão: backend na mesma máquina\n\n        console.log(`Buscando produtos de: ${apiUrl}`); // Log para debug\n\n        const response = await fetch(apiUrl);\n        console.log(`Status da resposta: ${response.status}`); // Log para debug\n\n        if (!response.ok) {\n          let errorBody = 'Erro desconhecido';\n          try {\n            // Tenta ler a mensagem de erro da API, se houver\n            const errorData = await response.json();\n            errorBody = errorData.error || response.statusText;\n            console.error(\"Erro da API:\", errorData);\n          } catch (e) {\n             console.error(\"Não foi possível ler o corpo do erro:\", e);\n             errorBody = response.statusText; // Usa o status text se não conseguir ler o corpo\n          }\n          throw new Error(`Falha ao buscar produtos (${response.status}): ${errorBody}`);\n        }\n\n        const data = await response.json();\n        console.log(\"Dados recebidos da API:\", data); // Log para debug\n\n        // Validação básica dos dados recebidos (opcional, mas recomendado)\n        if (!Array.isArray(data)) {\n            throw new Error(\"Formato de dados inesperado recebido da API.\");\n        }\n        // Aqui você poderia adicionar mais validações se necessário\n\n        setProducts(data);\n      } catch (err: any) {\n        console.error(\"Erro detalhado no fetch:\", err); // Log completo para debug\n        setError(`Não foi possível carregar os produtos. Verifique se o backend Python (API) está rodando em ${'http://localhost:5001'} e acessível. Detalhe: ${err.message}`);\n      } finally {\n        setIsLoading(false); // Termina o carregamento (com sucesso ou erro)\n      }\n    }\n\n    fetchProducts();\n  }, []); // O array vazio [] faz o useEffect rodar só uma vez\n\n  // Estados para o modal (mantidos)\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n\n  // Funções de clique (mantidas, mas agora usam dados reais)\n  const handleImageClick = (product: Product) => {\n    setSelectedProduct(product) // O histórico já está no 'product'\n    setIsModalOpen(true)\n  }\n\n  const handleStoreClick = (affiliateLink: string) => {\n    window.open(affiliateLink, \"_blank\", \"noopener,noreferrer\")\n  }\n\n  // ---- RENDERIZAÇÃO ----\n\n  // 1. Estado de Carregamento\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n        <header className=\"mb-12 text-center\">\n            {/* Skeleton para o título */}\n            <Skeleton className=\"h-10 w-3/4 mx-auto mb-3\" />\n            <Skeleton className=\"h-6 w-1/2 mx-auto\" />\n        </header>\n        <div className=\"space-y-8\">\n            {/* Exibe alguns Skeletons de Card */}\n            {[1, 2].map((n) => (\n                <Card key={n} className=\"overflow-hidden\">\n                    <div className=\"grid md:grid-cols-[300px_1fr] gap-6 p-6\">\n                        <div className=\"space-y-3\">\n                            <Skeleton className=\"aspect-square rounded-lg w-full\" />\n                            <Skeleton className=\"h-6 w-1/3\" />\n                        </div>\n                        <div className=\"space-y-4\">\n                            <Skeleton className=\"h-8 w-3/4\" />\n                            <Skeleton className=\"h-5 w-1/4\" />\n                            <div className=\"space-y-3 pt-4\">\n                                <Skeleton className=\"h-20 w-full rounded-lg\" />\n                                <Skeleton className=\"h-20 w-full rounded-lg\" />\n                            </div>\n                        </div>\n                    </div>\n                </Card>\n            ))}\n        </div>\n      </div>\n    );\n  }\n\n  // 2. Estado de Erro\n  if (error) {\n     return (\n        <div className=\"container mx-auto px-4 py-8 max-w-3xl\">\n             <Alert variant=\"destructive\">\n                <Terminal className=\"h-4 w-4\" />\n                <AlertTitle>Erro ao Carregar Dados</AlertTitle>\n                <AlertDescription>\n                    {error}\n                    <br/><br/>\n                    Verifique o console do navegador (F12) e o terminal onde o backend Python está rodando para mais detalhes.\n                </AlertDescription>\n            </Alert>\n        </div>\n     );\n  }\n\n  // 3. Estado Sem Produtos (Após Carregamento)\n   if (products.length === 0 && !isLoading) {\n      return (\n        <div className=\"container mx-auto px-4 py-8 max-w-7xl text-center\">\n            <header className=\"mb-12\">\n                <h1 className=\"text-4xl font-bold mb-3 text-balance\">Compare Preços e Economize</h1>\n                <p className=\"text-muted-foreground text-lg text-balance\">\n                Encontre as melhores ofertas em diversas lojas online\n                </p>\n            </header>\n            <p className=\"text-muted-foreground text-lg\">\n                Nenhum produto encontrado no arquivo <code className=\"bg-muted px-1 rounded\">precos.csv</code>.\n                Execute o script <code className=\"bg-muted px-1 rounded\">scraper.py</code> para buscar os preços primeiro.\n            </p>\n        </div>\n      );\n  }\n\n\n  // 4. Estado Normal (com produtos)\n  return (\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n      <header className=\"mb-12 text-center\">\n        <h1 className=\"text-4xl font-bold mb-3 text-balance\">Compare Preços e Economize</h1>\n        <p className=\"text-muted-foreground text-lg text-balance\">\n          Encontre as melhores ofertas em diversas lojas online\n        </p>\n      </header>\n\n      <div className=\"space-y-8\">\n        {/* Mapeia sobre 'products' que vieram da API */}\n        {products.map((product) => {\n          // Calcula menor preço e maior desconto (com validações)\n          const validPrices = product.stores.filter(s => s.price > 0 && s.inStock).map(s => s.price);\n          const lowestPrice = validPrices.length > 0 ? Math.min(...validPrices) : 0;\n\n          const highestDiscount = Math.max(\n            0,\n            ...product.stores\n              .filter((s) => s.originalPrice && s.originalPrice > s.price && s.inStock)\n              .map((s) => ((s.originalPrice! - s.price) / s.originalPrice!) * 100),\n          );\n\n          // Fallback de imagem caso a URL da API falhe\n          const handleImageError = (event: React.SyntheticEvent<HTMLImageElement, Event>) => {\n              event.currentTarget.src = '/placeholder.svg'; // Ou outra imagem placeholder\n              event.currentTarget.onerror = null; // Evita loop infinito se o placeholder também falhar\n          };\n\n          return (\n            <Card key={product.id} className=\"overflow-hidden\">\n              <div className=\"grid md:grid-cols-[300px_1fr] gap-6 p-6\">\n                {/* Product Image Section */}\n                <div className=\"space-y-3\">\n                  <button onClick={() => handleImageClick(product)} className=\"relative group cursor-pointer w-full\">\n                    <div className=\"aspect-square rounded-lg overflow-hidden bg-muted flex items-center justify-center\">\n                      <img\n                        // Usa product.image OU placeholder\n                        src={product.image || \"/placeholder.svg\"}\n                        alt={product.name}\n                        className=\"w-full h-full object-contain transition-transform group-hover:scale-105\" // object-contain pode ser melhor que cover\n                        onError={handleImageError} // Adiciona fallback de erro\n                      />\n                    </div>\n                    {/* Overlay do histórico */}\n                    <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center pointer-events-none\">\n                      <div className=\"text-white text-center\">\n                        <TrendingDown className=\"w-8 h-8 mx-auto mb-2\" />\n                        <p className=\"text-sm font-medium\">Ver Histórico de Preços</p>\n                      </div>\n                    </div>\n                  </button>\n                  <Badge variant=\"secondary\" className=\"w-full justify-center truncate\">\n                    {/* Usa product.category */}\n                    {product.category}\n                  </Badge>\n                </div>\n\n                {/* Product Details Section */}\n                <div className=\"space-y-4\">\n                  <div>\n                    {/* Usa product.name */}\n                    <h2 className=\"text-2xl font-bold mb-2 text-balance\">{product.name}</h2>\n                    {highestDiscount > 0 && (\n                      <Badge variant=\"default\" className=\"bg-accent text-accent-foreground\">\n                        {/* Mostra desconto */}\n                        Até {highestDiscount.toFixed(0)}% OFF\n                      </Badge>\n                    )}\n                  </div>\n\n                  {/* Stores Comparison */}\n                  <div className=\"space-y-3\">\n                    {/* Mapeia sobre product.stores */}\n                    {product.stores.map((store, index) => {\n                      const isLowestPrice = store.price === lowestPrice && store.price > 0 && store.inStock;\n                      const discount = store.originalPrice && store.originalPrice > store.price && store.inStock\n                        ? ((store.originalPrice - store.price) / store.originalPrice) * 100\n                        : 0;\n\n                      return (\n                        <div\n                          key={index}\n                          className={`border rounded-lg p-4 transition-all hover:shadow-md ${\n                            isLowestPrice ? \"border-primary bg-primary/5\" : \"border-border\"\n                          }`}\n                        >\n                          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n                            {/* Detalhes da Loja */}\n                            <div className=\"flex-1 space-y-2 min-w-0\"> {/* Adicionado min-w-0 */}\n                              <div className=\"flex items-center gap-2 flex-wrap\">\n                                <h3 className=\"font-semibold text-lg truncate\">{store.name}</h3> {/* Adicionado truncate */}\n                                {isLowestPrice && (\n                                  <Badge variant=\"default\" className=\"text-xs flex-shrink-0\">\n                                    Melhor Preço\n                                  </Badge>\n                                )}\n                                {!store.inStock && (\n                                  <Badge variant=\"destructive\" className=\"text-xs flex-shrink-0\">\n                                    Indisponível\n                                  </Badge>\n                                )}\n                              </div>\n\n                              {/* Rating e Reviews (Ocultos se rating for 0) */}\n                              {store.rating > 0 && (\n                                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                                    <div className=\"flex items-center gap-1\">\n                                    <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                                    <span className=\"font-medium\">{store.rating.toFixed(1)}</span>\n                                    {store.reviews > 0 && <span>({store.reviews.toLocaleString(\"pt-BR\")} avaliações)</span>}\n                                    </div>\n                                </div>\n                              )}\n\n                              <p className=\"text-sm text-muted-foreground\">{store.shipping}</p>\n                            </div>\n\n                            {/* Preço e Botão */}\n                            <div className=\"flex flex-col items-end gap-1 flex-shrink-0\">\n                              {store.originalPrice && store.originalPrice > store.price && store.inStock && (\n                                <div className=\"text-sm text-muted-foreground line-through whitespace-nowrap\">\n                                  R$ {store.originalPrice.toFixed(2).replace(\".\", \",\")}\n                                </div>\n                              )}\n                              <div className={`text-2xl sm:text-3xl font-bold whitespace-nowrap ${store.inStock && store.price > 0 ? 'text-primary' : 'text-muted-foreground text-xl'}`}>\n                                {store.inStock && store.price > 0 ? `R$ ${store.price.toFixed(2).replace(\".\", \",\")}` : \"Indisponível\"}\n                              </div>\n                              {discount > 0 && store.inStock && (\n                                <Badge variant=\"secondary\" className=\"text-xs\">\n                                  {discount.toFixed(0)}% OFF\n                                </Badge>\n                              )}\n                              <Button\n                                onClick={() => handleStoreClick(store.affiliateLink)}\n                                disabled={!store.inStock}\n                                className=\"w-full sm:w-auto mt-2\" // Adiciona margem\n                                size=\"sm\" // Tamanho consistente\n                              >\n                                <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                                Ir para Loja\n                                <ExternalLink className=\"w-4 h-4 ml-2\" />\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* Modal (usa selectedProduct com dados da API) */}\n      {selectedProduct && (\n        <PriceHistoryModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} product={selectedProduct} />\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}